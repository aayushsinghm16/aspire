(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{524:function(e,t,n){var content=n(543);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(79).default)("0b5978e8",content,!0,{sourceMap:!1})},541:function(e,t,n){var map={"./af":389,"./af.js":389,"./ar":390,"./ar-dz":391,"./ar-dz.js":391,"./ar-kw":392,"./ar-kw.js":392,"./ar-ly":393,"./ar-ly.js":393,"./ar-ma":394,"./ar-ma.js":394,"./ar-sa":395,"./ar-sa.js":395,"./ar-tn":396,"./ar-tn.js":396,"./ar.js":390,"./az":397,"./az.js":397,"./be":398,"./be.js":398,"./bg":399,"./bg.js":399,"./bm":400,"./bm.js":400,"./bn":401,"./bn-bd":402,"./bn-bd.js":402,"./bn.js":401,"./bo":403,"./bo.js":403,"./br":404,"./br.js":404,"./bs":405,"./bs.js":405,"./ca":406,"./ca.js":406,"./cs":407,"./cs.js":407,"./cv":408,"./cv.js":408,"./cy":409,"./cy.js":409,"./da":410,"./da.js":410,"./de":411,"./de-at":412,"./de-at.js":412,"./de-ch":413,"./de-ch.js":413,"./de.js":411,"./dv":414,"./dv.js":414,"./el":415,"./el.js":415,"./en-au":416,"./en-au.js":416,"./en-ca":417,"./en-ca.js":417,"./en-gb":418,"./en-gb.js":418,"./en-ie":419,"./en-ie.js":419,"./en-il":420,"./en-il.js":420,"./en-in":421,"./en-in.js":421,"./en-nz":422,"./en-nz.js":422,"./en-sg":423,"./en-sg.js":423,"./eo":424,"./eo.js":424,"./es":425,"./es-do":426,"./es-do.js":426,"./es-mx":427,"./es-mx.js":427,"./es-us":428,"./es-us.js":428,"./es.js":425,"./et":429,"./et.js":429,"./eu":430,"./eu.js":430,"./fa":431,"./fa.js":431,"./fi":432,"./fi.js":432,"./fil":433,"./fil.js":433,"./fo":434,"./fo.js":434,"./fr":435,"./fr-ca":436,"./fr-ca.js":436,"./fr-ch":437,"./fr-ch.js":437,"./fr.js":435,"./fy":438,"./fy.js":438,"./ga":439,"./ga.js":439,"./gd":440,"./gd.js":440,"./gl":441,"./gl.js":441,"./gom-deva":442,"./gom-deva.js":442,"./gom-latn":443,"./gom-latn.js":443,"./gu":444,"./gu.js":444,"./he":445,"./he.js":445,"./hi":446,"./hi.js":446,"./hr":447,"./hr.js":447,"./hu":448,"./hu.js":448,"./hy-am":449,"./hy-am.js":449,"./id":450,"./id.js":450,"./is":451,"./is.js":451,"./it":452,"./it-ch":453,"./it-ch.js":453,"./it.js":452,"./ja":454,"./ja.js":454,"./jv":455,"./jv.js":455,"./ka":456,"./ka.js":456,"./kk":457,"./kk.js":457,"./km":458,"./km.js":458,"./kn":459,"./kn.js":459,"./ko":460,"./ko.js":460,"./ku":461,"./ku.js":461,"./ky":462,"./ky.js":462,"./lb":463,"./lb.js":463,"./lo":464,"./lo.js":464,"./lt":465,"./lt.js":465,"./lv":466,"./lv.js":466,"./me":467,"./me.js":467,"./mi":468,"./mi.js":468,"./mk":469,"./mk.js":469,"./ml":470,"./ml.js":470,"./mn":471,"./mn.js":471,"./mr":472,"./mr.js":472,"./ms":473,"./ms-my":474,"./ms-my.js":474,"./ms.js":473,"./mt":475,"./mt.js":475,"./my":476,"./my.js":476,"./nb":477,"./nb.js":477,"./ne":478,"./ne.js":478,"./nl":479,"./nl-be":480,"./nl-be.js":480,"./nl.js":479,"./nn":481,"./nn.js":481,"./oc-lnc":482,"./oc-lnc.js":482,"./pa-in":483,"./pa-in.js":483,"./pl":484,"./pl.js":484,"./pt":485,"./pt-br":486,"./pt-br.js":486,"./pt.js":485,"./ro":487,"./ro.js":487,"./ru":488,"./ru.js":488,"./sd":489,"./sd.js":489,"./se":490,"./se.js":490,"./si":491,"./si.js":491,"./sk":492,"./sk.js":492,"./sl":493,"./sl.js":493,"./sq":494,"./sq.js":494,"./sr":495,"./sr-cyrl":496,"./sr-cyrl.js":496,"./sr.js":495,"./ss":497,"./ss.js":497,"./sv":498,"./sv.js":498,"./sw":499,"./sw.js":499,"./ta":500,"./ta.js":500,"./te":501,"./te.js":501,"./tet":502,"./tet.js":502,"./tg":503,"./tg.js":503,"./th":504,"./th.js":504,"./tk":505,"./tk.js":505,"./tl-ph":506,"./tl-ph.js":506,"./tlh":507,"./tlh.js":507,"./tr":508,"./tr.js":508,"./tzl":509,"./tzl.js":509,"./tzm":510,"./tzm-latn":511,"./tzm-latn.js":511,"./tzm.js":510,"./ug-cn":512,"./ug-cn.js":512,"./uk":513,"./uk.js":513,"./ur":514,"./ur.js":514,"./uz":515,"./uz-latn":516,"./uz-latn.js":516,"./uz.js":515,"./vi":517,"./vi.js":517,"./x-pseudo":518,"./x-pseudo.js":518,"./yo":519,"./yo.js":519,"./zh-cn":520,"./zh-cn.js":520,"./zh-hk":521,"./zh-hk.js":521,"./zh-mo":522,"./zh-mo.js":522,"./zh-tw":523,"./zh-tw.js":523};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(map,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return map[e]}r.keys=function(){return Object.keys(map)},r.resolve=o,e.exports=r,r.id=541},542:function(e,t,n){"use strict";n(524)},543:function(e,t,n){var r=n(78)(!1);r.push([e.i,"section[data-v-42e47aab]{display:grid;justify-content:center;height:100vh;width:100vw;align-items:center}section .input-control[data-v-42e47aab]{display:grid;padding:2rem;border-radius:6px;background:#ffffffc2;box-shadow:0px 0px 6px 1px #00000052}section .input-control h1[data-v-42e47aab]{text-align:center;font-size:3rem;margin-bottom:2rem;font-weight:400}section .loan-payments .loan-head[data-v-42e47aab]{display:grid;grid-template-columns:max-content max-content;grid-column-gap:3rem}section .loan-payments .term-loans[data-v-42e47aab]{display:grid;grid-row-gap:1rem;margin-top:1rem}section .loan-payments .term-loans div[data-v-42e47aab]{display:grid;grid-template-columns:max-content max-content;justify-content:space-between;align-items:center}section .loan-payments .term-loans div button[data-v-42e47aab]{grid-column:2/3;grid-row:1/3;color:#fff;background:#0089ff;padding:5px 10px;border:none;border-radius:2px;cursor:pointer}section .loan-payments .term-loans div button[data-v-42e47aab]:hover{box-shadow:0px 0px 5px 0px #0b0b0b6b}section .loan-payments .term-loans div .disable[data-v-42e47aab]{background:#c4c4c4;cursor:no-drop}section .loan-payments .term-loans div .disable[data-v-42e47aab]:hover{box-shadow:none}section .loan-payments .term-loans div .amount[data-v-42e47aab]{font-size:1.2rem}section .loan-payments .term-loans div .date[data-v-42e47aab]{font-size:.75rem}section .loan-payments .term-loans div h4[data-v-42e47aab]{grid-column:2/3;grid-row:1/3}",""]),e.exports=r},570:function(e,t,n){"use strict";n.r(t);n(36),n(29),n(35),n(47),n(30),n(48);var r=n(2),o=n(19),l=(n(21),n(65)),c=n(367),m=n.n(c);function j(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?j(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):j(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={data:function(){return{ruleForm:{amount:0,term:0},rules:{amount:[{required:!0,message:"Please provide amount",trigger:"blur"}],term:[{required:!0,message:"Please provide term",trigger:"blur"}]}}},computed:d({},Object(l.e)({user:function(e){return e.user},userLoan:function(e){return e.userLoan}})),mounted:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.getLoanDataFromFireBase(e.user.email);case 1:case"end":return t.stop()}}),t)})))()},methods:d(d(d({},Object(l.b)({getLoanDataFromFireBase:"getLoanDataFromFireBase",addDataToFireBaseCollection:"addDataToFireBaseCollection"})),Object(l.d)({changePaymentValue:"changePaymentValue"})),{},{submitRequest:function(){for(var e=this,t=parseInt(this.ruleForm.term),n=parseInt(this.ruleForm.amount),r=[],o=new Date,l=0;l<t;l++)r.push({loanAmount:n/t,loanPayDate:o.setDate(o.getDate()+7*l),paid:!1});var c={collectionName:"loan",data:{amount:n,term:t,userEmail:this.user.email,payments:r,approved:!1}};this.addDataToFireBaseCollection(c).then((function(t){e.$notify({title:"Loan Request",message:"Loan request success",type:"success"}),e.getLoanDataFromFireBase(e.user.email)}))},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.submitRequest()}))},getDate:function(e){return m()(e).format("DD/MM/YYYY")},checkDate:function(e){return m()().diff(e)<0},payAmount:function(e){var t=this;this.changePaymentValue({index:e,value:!0}),console.log(this.userLoan),this.$fire.firestore.collection("loan").doc(this.userLoan._id).update({payments:this.userLoan.payments}).then((function(){t.$notify({title:"Payment",message:"Payment success",type:"success"})})).catch((function(e){console.error(e)}))}})},v=(n(542),n(46)),component=Object(v.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[e.userLoan?n("div",{staticClass:"input-control"},[n("h1",{},[e._v("Pay Loan")]),e._v(" "),e.userLoan.approved?n("div",{staticClass:"loan-payments"},[n("div",{staticClass:"loan-head"},[n("p",[e._v("Total Amount : "+e._s(e.userLoan.amount))]),e._v(" "),n("p",[e._v("Total Term : "+e._s(e.userLoan.term))])]),e._v(" "),n("div",{staticClass:"term-loans"},e._l(e.userLoan.payments,(function(t,r){return n("div",{key:r},[n("p",{staticClass:"amount"},[e._v("Amount : "+e._s(t.loanAmount))]),e._v(" "),n("p",{staticClass:"date"},[n("i",{staticClass:"el-icon-date"}),e._v(" "+e._s(e.getDate(t.loanPayDate)))]),e._v(" "),t.paid?n("h4",[e._v("Paid")]):n("button",{class:{disable:e.checkDate(t.loanPayDate)},on:{click:function(t){return t.stopPropagation(),e.payAmount(r,e.userLoan)}}},[e._v("Pay Amount")])])})),0)]):n("h4",[e._v("Your loan is not approved yet, please wait for admin confirmation "),n("nuxt-link",{attrs:{to:"/"}},[e._v("home")])],1)]):n("div",{staticClass:"input-control"},[n("h1",{},[e._v("Request Loan")]),e._v(" "),n("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"amount",prop:"amount"}},[n("el-input",{attrs:{type:"number"},model:{value:e.ruleForm.amount,callback:function(t){e.$set(e.ruleForm,"amount",t)},expression:"ruleForm.amount"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"term",prop:"term"}},[n("el-input",{attrs:{type:"number"},model:{value:e.ruleForm.term,callback:function(t){e.$set(e.ruleForm,"term",t)},expression:"ruleForm.term"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("Request")])],1)],1)],1)])}),[],!1,null,"42e47aab",null);t.default=component.exports}}]);